# 8주차 : “카프카 기초 학습기”

## 1) 배경

스프링 애플리케이션을 배우고 나서, 글로벌 이벤트 플랫폼인 카프카(Kafka) 를 학습했다.

처음에는 “단순히 글로벌 이벤트를 처리하기 위한 도구” 정도로 생각했지만, 그렇다면 수많은 빅테크 기업들이 이렇게 널리 쓰지는 않을 것이라는 의문이 들었다.

그래서 카프카가 실제로 어떤 가치와 장점을 제공하는지 집중해서 살펴보았다.

## 2) 카프카의 구조와 장점

프로듀서 & 컨슈머 구조에 기반하고, 그 사이에서 브로커가 메시지를 중개한다.
→ 개발자는 이벤트를 발행만 하면 브로커가 알아서 적절한 컨슈머에게 전달해 준다.

이 구조의 가장 큰 장점은 쓰기 부하 감소에 있다고 느꼈다.

컨슈머에서 배치 리스너를 사용해 여러 이벤트를 한 번에 처리할 수 있기 때문에, I/O 작업을 최소화할 수 있다.

예시: 조회수 증가, 좋아요 등록/취소 같은 이벤트는 굉장히 자주 발생한다. 이를 매번 DB에 바로 반영하면 부하가 크다. → 카프카를 통해 이벤트를 모아 배치 단위로 DB에 반영하면 훨씬 효율적이다.

파티션 기능으로 병렬처리까지 가능해 대규모 트래픽 환경에서도 확장성이 뛰어나다.

## 3) 주의할 점

컨슈머가 한 토픽에서 데이터를 동시에 읽을 때 동시성 문제가 발생할 수 있다.

이를 해결하는 방법:

- 비관적 락을 사용해 데이터 정합성을 보장.
- 혹은 셀프 컨슘(Self Consume) 기법을 사용해, 이벤트를 다시 카프카에 발행하여 순서를 보장하는 방식도 있다. (고급 패턴)

## 4) 이번 학습에서 느낀 점

카프카는 단순히 이벤트 발행/구독을 위한 도구가 아니라,

- 대규모 이벤트 처리 최적화
- I/O 부하 경감
- 확장성 및 병렬성 확보

- 같은 핵심적인 가치를 제공한다는 점을 배웠다.

그동안 막연히 “어렵고 진입장벽이 높은 기술”이라고만 생각했는데, 이번 학습을 통해 기본 키워드와 컨셉을 이해하게 되면서 두려움이 많이 줄었다.

앞으로 실무에서 카프카를 직접 적용할 기회가 온다면, 이번에 배운 개념을 바탕으로 더 깊이 발전시켜 보고 싶다.